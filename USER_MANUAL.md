# Εγχειρίδιο Εργασίας: Υπηρεσιοστρεφές Λογισμικό (2025-2026)

**Ονοματεπώνυμο:** Δημήτρης Συμεωνίδης
**ΑΜ:** Π22165
**Θέμα:** Portal Εργαστηρίων & Todo REST API

---

## 1. Σύνοψη

Η εργασία αποτελείται από δύο μέρη που λειτουργούν στην ίδια εφαρμογή (Ruby on Rails):

1. **Portal Εργαστηρίων (Web App):** Διαχείριση αναρτήσεων, αναζήτηση συνεργατών, προσωπικά μηνύματα και ομαδικές συνομιλίες.
2. **REST API (Todos):** Πλήρες API για διαχείριση λιστών εργασιών, τεκμηριωμένο με Swagger/OpenAPI.

---

## 2. Οδηγίες Εγκατάστασης & Εκτέλεσης

Για να τρέξετε την εφαρμογή τοπικά:

**Βήμα 1: Εγκατάσταση gems**

```bash
bundle install
```

**Βήμα 2: Προετοιμασία Βάσης (ΠΡΟΣΟΧΗ)**

Έχω ετοιμάσει seeds ώστε να γεμίσει η βάση με demo δεδομένα (χρήστες, posts, todos) για να μην χρειάζεται να τα περνάτε με το χέρι κατά την εξέταση.

Τρέξτε την εντολή:

```bash
bin/rails db:setup
```

(Αυτό κάνει create, migrate και seed αυτόματα)

**Βήμα 3: Εκκίνηση Server**

```bash
bin/rails s
```

Η εφαρμογή ανοίγει στο: http://localhost:3000

---

## 3. Demo Λογαριασμοί

Μπορείτε να συνδεθείτε άμεσα με τους παρακάτω χρήστες που δημιουργούνται από τα seeds:

- Email: student1@unipi.gr | Pass: password123 (Έχει ήδη δεδομένα)
- Email: student2@unipi.gr | Pass: password123 (Για δοκιμή chat)

Σημείωση: Υπάρχει και δυνατότητα Google Login αν ρυθμιστούν τα keys στο `.env`, αλλά δουλεύει κανονικά και με email.

---

## 4. Λειτουργίες Portal (Θέμα 1)

Στο web περιβάλλον θα βρείτε:

- **Αναζήτηση (Search):** Λειτουργεί στο index των Posts. Ψάχνει σε τίτλο, περιεχόμενο και κατηγορία ταυτόχρονα (υλοποιήθηκε με scope στο Model).
- **Μηνύματα:** Υποστηρίζονται προσωπικά μηνύματα (popup) και Group Chats.
- **Ειδοποιήσεις:** Ο χρήστης βλέπει ειδοποιήσεις όταν λαμβάνει μήνυμα ή τον προσθέτουν σε επαφές.
- **Επαφές:** Διαχείριση λίστας φίλων/συνεργατών.

---

## 5. REST API & Documentation (Θέμα 2)

Το API βρίσκεται στο namespace `/api/v1` και είναι πλήρως διαχωρισμένο από το Web App.

**Swagger UI (Τεκμηρίωση):**
Όλα τα endpoints είναι τεκμηριωμένα αυτόματα μέσω rswag. Μπορείτε να τα δείτε και να τα δοκιμάσετε (Try it out) εδώ:  
👉 http://localhost:3000/api-docs

**Βασική Ροή Δοκιμής API:**

1. Κάντε `POST /auth/login` (μέσω Swagger ή Postman) με τα demo στοιχεία.
2. Αντιγράψτε το token που επιστρέφεται.
3. Χρησιμοποιήστε το token ως Bearer Token για να καλέσετε τα endpoints των Todos (`GET /todos`, `POST /todos` κλπ).

---

## 6. Τεχνικές Σημειώσεις

- **Αρχιτεκτονική:** Ακολούθησα το MVC pattern. Προσπάθησα να κρατήσω τους Controllers "thin" και να βάλω τη λογική (validations, scopes) στα Models.
- **Testing:** Υπάρχουν Integration Tests (RSpec) στον φάκελο `spec/requests/api` τα οποία παράγουν και το Swagger file.
- **Security:** Χρησιμοποιώ Strong Parameters παντού και Token Auth για το API (με rotation tokens για ασφάλεια).
- **Routing:** Έκανα χρήση namespace για το API ώστε να υποστηρίζει μελλοντικά versions (v1).
